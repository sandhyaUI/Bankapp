'use strict'

var debug = require('debug-log')('pkg-config')
var path = require('path')
var find = require('find-root')
var extend = require('xtend')
var fs = require('fs')

module.exports = function (namespace, options, fallback) {
  var opts = extend({
    root: 'config',
    cwd: process.cwd(),
    cache: true
  }, options || {})

  try {
    var root = find(opts.cwd)

    if (!root) {
      debug('could not find at %s', opts.cwd)

      return
    }

    debug('found root at %s', root)

    var pkg

   